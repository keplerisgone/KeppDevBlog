# Summary

클라이언트 단에서 믿을만한 서버를 판단하는 정책인 **SOP**(Same Origin Policy)에 대해서 알아보자.
# Contents
## SOP

**SOP**(Same Origin Policy)는 클라이언트가 보낸 HTTP 요청을 악의적인 페이지에서 읽을 수 없도록 하는 보안 메커니즘이다. 브라우저는 웹 서버에 보내는 쿠키에 인증 정보를 붙여서 보내는 특징을 지니고 있다. 이는 직접 접속뿐만이 아닌 웹 리소스를 통한 타 사이트 접근에도 해당된다. 이 때문에 악의적인 페이지가 클라이언트의 권한을 이용해 대상 사이트에 HTTP 요청을 보내고, 응답 정보를 얻어낼 수 있다.
##### 구분 방법

오리진(origin)은 프로토콜(Protocol, scheme), 포트(port), 호스트(host)로 구성된다. 이 구성 요소들이 모두 일치해야 동일한 오리진이라고 한다. 해당 구성 요소들에 대해서는 [[Web browser & Developer tool#URL|URL]]을 참고하자.

SOP에 의해서 오리진이 다른 웹 페이지는 클라이언트가 가져온 데이터를 읽을 수 없다.
또한 외부 리소스를 사용할 수 있는 `<img>, <style>, <script>` 등의 태그는 SOP의 영향을 받지 않는다.
## CORS

SOP는 웹 보안에서 중요한 요소지만, 제한을 완화해야 하는 경우도 있다. 예를 들어, 다른 호스트를 이용해 다양한 서비스를 제공중인 네이버가 있다. 네이버 블로그는 `blog.naver.com`, 네이버 쇼핑은 `shopping.naver.com`을 이용해 서비스 중이다. 호스트가 다르기 때문에 브라우저는 오리진이 다르다고 인식한다. 

이를 해결하기 위한 방법이 바로 **교차 출처 리소스 공유**(Cross Origin Resource Sharing)이다. 
이는 CORS와 관련된 정보를 HTTP 헤더에 추가하여 이루어진다.
# Reference

